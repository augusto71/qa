{% load static %}
{% load humanize %}
{% load user_profile_photo %}

<!doctype html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="{% static 'css/question.css' %}">

		<title>{{ question.title }}</title>
	</head>
	<body>

		{% include "includes/navbar.html" %}

		<div id="content">
			<div>
				<div>
					<img id="question_creator_profile" src="{% get_user_profile_photo question.user.id %}">
					{{ question.user.username }}
				</div>
				<h2>{{ question.title }}</h2>
				<span>{{ question.pub_date|naturaltime }}</span>
			</div>
			<div>
				<pre>{{ question.description }}</pre>
			</div>
			
			{% if answers %}
				<div>
					{% for answer in answers %}
						<div>
							<img class="answer_creator_profile" src="{% get_user_profile_photo answer.user.id %}">
							{{ answer.user.username }}
						</div>
						<span>{{ question.pub_date|naturaltime }}</span>
						<div>
							<pre>{{ answer.text }}</pre>
						</div>
					{% endfor %}
				</div>
			{% endif %}
	
			{% if response_form %}
				<form method="post">
					{% csrf_token %}
					<textarea name="text" placeholder="Escreva uma resposta." maxlength="4000" required="required"></textarea>
					<input type="submit" value="Publicar">
				</form>
			{% endif %}
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
	</body>
</html>